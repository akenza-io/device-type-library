{
  "$id": "https://akenza.io/enless/600-051/default.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "processingType": "uplink_decoder",
  "topic": "default",
  "title": "Default",
  "properties": {
    "temperature": {
      "title": "Temperature",
      "description": "Current measured temperature",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/environment/schema.json#/$defs/temperature/celsius"
    },
    "humidity": {
      "title": "Humidity",
      "description": "Current measured relative humidity",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/environment/schema.json#/$defs/humidity/percent"
    },
    "msgType": {
      "type": "string",
      "enum": ["normal", "alarm"],
      "title": "Message Type",
      "description": "Indicates whether the message was triggered by normal operation or an alarm"
    },
    "rbe": {
      "type": "boolean",
      "title": "RBE (Report By Exception)",
      "description": "Indicates if the frame was triggered by a change in measurement (report by exception)"
    }
  },
  "patternProperties": {
    "^temperature_t-[0-9]+$": {
      "title": "Historic Temperature",
      "description": "Historic temperature sample from datalogging frame",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/environment/schema.json#/$defs/temperature/celsius"
    },
    "^humidity_t-[0-9]+$": {
      "title": "Historic Humidity",
      "description": "Historic humidity sample from datalogging frame",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/environment/schema.json#/$defs/humidity/percent"
    }
  },
  "required": ["temperature", "humidity", "msgType", "rbe"]
}
