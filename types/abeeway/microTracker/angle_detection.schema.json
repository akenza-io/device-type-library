{
  "$id": "https://akenza.io/abeeway/microTracker/angle_detection.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "processingType": "uplink_decoder",
  "topic": "angle_detection",
  "title": "Angle Detection",
  "properties": {
    "transitionState": {
      "title": "Transition state",
      "description": "Transition state",
      "type": "string",
      "enum": [
        "LEARNING_TO_NORMAL",
        "NORMAL_TO_LEARNING",
        "NORMAL_TO_CRITICAL",
        "CRITICAL_TO_NORMAL",
        "CRITICAL_TO_LEARNING"
      ],
      "hideFromKpis": true
    },
    "trigger": {
      "title": "Trigger",
      "description": "Trigger for the message",
      "type": "string",
      "enum": [
        "CRITICAL_ANGLE_REPORTING",
        "ANGLE_DEVIATION_REPORTING",
        "SHOCK_TRIGGER",
        "RFU"
      ],
      "hideFromKpis": true
    },
    "repetitionCounter": {
      "title": "Repetition counter",
      "description": "Repetition counter",
      "type": "integer"
    },
    "age": {
      "title": "Age",
      "unit": "s",
      "type": "integer",
      "description": "Age of the measurement in seconds",
      "hideFromKpis": true
    },
    "refVectorX": {
      "title": "Ref Vector X",
      "description": "X axis accelerometer value in mG, used for the reference vector",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "refVectorY": {
      "title": "Ref Vector Y",
      "description": "Y axis accelerometer value in mG, used for the reference vector",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "refVectorZ": {
      "title": "Ref Vector Z",
      "description": "Z axis accelerometer value in mG, used for the reference vector",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "critVectorX": {
      "title": "Critical Vector X",
      "description": "X axis accelerometer value in mG, it is the last measurement value",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "critVectorY": {
      "title": "Critical Vector Y",
      "description": "Y axis accelerometer value in mG, it is the last measurement value",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "critVectorZ": {
      "title": "Critical Vector Z",
      "description": "Z axis accelerometer value in mG, it is the last measurement value",
      "$ref": "https://raw.githubusercontent.com/akenza-io/device-type-library/main/data-models/motion/schema.json#/$defs/acceleration/mG"
    },
    "angle": {
      "title": "Angle",
      "description": "Orientation angle",
      "unit": "Â°",
      "type": "number"
    }
  },
  "required": [
    "transitionState",
    "trigger",
    "repetitionCounter",
    "age",
    "refVectorX",
    "refVectorY",
    "refVectorZ",
    "critVectorX",
    "critVectorY",
    "critVectorZ",
    "angle"
  ]
}